webpackJsonp([25],{NxU5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("aA9S"),n=a.n(s),i={name:"",beforeRouteEnter:function(t,e,a){a(function(t){if("/filter"===e.path){var a=t.$store.state.filter,s=a.busLineId,i=a.startTime,o=a.endTime,r=a.storeCity;1!==t.$store.state.user.roleLevel?n()(t.form,{cityId:r,busLineId:s,endTime:o,startTime:i}):n()(t.form,{busLineId:s,endTime:o,startTime:i})}})},created:function(){this.getData()},data:function(){return{form:{busLineId:"",cityId:"",endTime:"",from:"bdcrm",startTime:"",token:this.$store.state.token},allLoaded:!1,pageIndex:"",pageCount:"",items:[]}},methods:{getData:function(t){var e=this;this.axios.countList(this.form).then(function(t){var a=t.data;a.success&&(e.pageIndex=a.data.pageIndex,e.pageCount=a.data.pageIndex,(a.data.pageCount===a.data.pageIndex||0==a.data.rowsCount)&&(e.allLoaded=!0),e.$set(e,"items",e.items.concat(e.util.sortDate(a.data.list,"startTime")))),a.success||e.$toast({message:a.msg,position:"model",duration:3e3})}).catch(function(t){console.log(t)})},request:function(){this.pageIndex===this.pageCount?this.allLoaded=!0:(this.form.page=++this.pageIndex,this.getData())}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("mt-header",{attrs:{title:"历史统计数据"}},[a("router-link",{attrs:{slot:"left",to:"/home"},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1),t._v(" "),a("mt-button",{attrs:{slot:"right"},slot:"right"},[a("span",{staticClass:"rightbtn",on:{click:function(e){t.$router.push({path:"/filter"})}}},[t._v("筛选")])])],1),t._v(" "),a("pullup",{attrs:{allLoaded:t.allLoaded},on:{request:t.request}},t._l(t.items,function(t,e){return a("card",{key:e,attrs:{type:"list",data:t}})}))],1)},staticRenderFns:[]},r=a("vSla")(i,o,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=25.4c343307fcacc8e1850b.js.map