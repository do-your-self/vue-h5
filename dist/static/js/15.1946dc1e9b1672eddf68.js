webpackJsonp([15],{dcMf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"",data:function(){return{form:{busLineId:"shangcheng",busLineName:"商城",categoryId:"jianshen",categoryName:"健身",customFullName:"",customName:"",from:"bdcrm",linkMobile:"",linkPerson:"",linkPosition:"",storeAddress:"",storeArea:"",storeCity:"",storeProvicne:"",token:this.$store.state.token,userFullName:this.$store.state.user.titleFullName,userId:this.$store.state.user.userId},storeAddress:""}},methods:{getValue:function(e,t){switch(t){case"category":this.form.categoryName=e[0].name,this.form.categoryId=e[0].code;break;case"line":this.form.busLineName=e[0].name,this.form.busLineId=e[0].code;break;case"city":this.storeAddress=e[0].name+"/"+e[1].name+"/"+e[2].name,this.form.storeProvicne=e[0].name+"@"+e[0].code,this.form.storeCity=e[1].name+"@"+e[1].code,this.form.storeArea=e[2].name+"@"+e[2].code}},onValuesChange:function(e,t){t[0]>t[1]&&e.setSlotValue(1,t[0])},selectCity:function(e){this.form.storeArea=e.area,this.form.storeCity=e.city,this.form.storeProvicne=e.provicne},created:function(){for(var e=this,t=[{value:this.form.customFullName,required:!0,message:"营业执照名称不能为空",regExp:/^.{2,30}$/,errorMsg:"营业执照名称长度大于等于2，小于等于30"},{value:this.form.customName,required:!0,message:"商户门店简称不能为空",regExp:/^.{1,15}$/,errorMsg:"商户门店简称长度小于等于15"},{value:this.form.busLineName,required:!0,message:"业务线不能为空"},{value:this.form.categoryName,required:!0,message:"商户品类不能为空"},{value:this.storeAddress,required:!0,message:"经营地区不能为空"},{value:this.form.storeAddress,required:!0,message:"详细地址不能为空",regExp:/^.{2,50}$/,errorMsg:"详细地址长度大于等于2，小于等于50"},{value:this.form.linkPerson,required:!0,message:"业务联系人不能为空",regExp:/^.{2,10}$/,errorMsg:"业务联系人长度大于等于2，小于等于10"},{value:this.form.linkMobile,required:!0,message:"业务联系人手机号不能为空",regExp:/^[1][3,4,5,7,8][0-9]{9}$/,errorMsg:"业务联系人手机号格式不对"},{value:this.form.linkPosition,required:!0,message:"业务联系人职务不能为空",regExp:/^.{2,20}$/,errorMsg:"业务联系人职务长度大于等于2，小于等于20"}],r=!0,s=0;s<t.length;s++){if(!t[s].value&&t[s].required){this.$toast({message:t[s].message,position:"model",duration:3e3}),r=!1;break}if((t[s].regExp&&t[s].required||t[s].value&&!t[s].required)&&!t[s].regExp.test(t[s].value)){this.$toast({message:t[s].errorMsg,position:"model",duration:3e3}),r=!1;break}}r&&this.axios.createCustom(this.form).then(function(t){var r=t.data;r.success&&(e.$store.dispatch({type:"BaseInfo",form:{custom:r.data}}),e.$toast({message:"商户创建成功，可以继续完善资料并添加拜访记录",position:"model",duration:3e3}),e.$router.push({path:"/completeInfo/"+r.data.customId})),r.success||e.$toast({message:r.msg,position:"model",duration:3e3})}).catch(function(e){console.log(e)})}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{},[r("mt-header",{attrs:{title:"创建商户门店"}},[r("router-link",{attrs:{slot:"left",to:""},slot:"left"},[r("mt-button",{attrs:{icon:"back"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)],1),e._v(" "),r("mt-field",{attrs:{label:"客户经理人",placeholder:"请输入客户经理人",readonly:!0,disableClear:!0},model:{value:e.form.userFullName,callback:function(t){e.$set(e.form,"userFullName",t)},expression:"form.userFullName"}}),e._v(" "),r("mt-field",{attrs:{label:"营业执照名称",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;",placeholder:"请输入商户名称",attr:{maxlength:30}},model:{value:e.form.customFullName,callback:function(t){e.$set(e.form,"customFullName","string"==typeof t?t.trim():t)},expression:"form.customFullName"}}),e._v(" "),r("mt-field",{attrs:{label:"商户门店简称",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;",placeholder:"请输入商户门店简称(≤15位)",attr:{maxlength:15}},model:{value:e.form.customName,callback:function(t){e.$set(e.form,"customName","string"==typeof t?t.trim():t)},expression:"form.customName"}}),e._v(" "),r("selectList",{attrs:{title:"业务线",type:"line",val:e.form.busLineName},on:{select:e.getValue}}),e._v(" "),r("selectList",{attrs:{title:"商户行业",type:"category",val:e.form.categoryName},on:{select:e.getValue}}),e._v(" "),r("selectList",{attrs:{title:"经营地区",type:"city"},on:{select:e.getValue}}),e._v(" "),r("mt-field",{attrs:{label:"详细地址",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;",placeholder:"请输入详细地址",attr:{maxlength:50},type:"textarea",rows:"4"},model:{value:e.form.storeAddress,callback:function(t){e.$set(e.form,"storeAddress",t)},expression:"form.storeAddress"}}),e._v(" "),r("mt-field",{attrs:{label:"业务联系人",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;",placeholder:"请输入业务联系人姓名",attr:{maxlength:10}},model:{value:e.form.linkPerson,callback:function(t){e.$set(e.form,"linkPerson",t)},expression:"form.linkPerson"}}),e._v(" "),r("mt-field",{attrs:{label:"联系人手机",placeholder:"请输入联系人手机号码",attr:{maxlength:11},type:"tel"},model:{value:e.form.linkMobile,callback:function(t){e.$set(e.form,"linkMobile",t)},expression:"form.linkMobile"}}),e._v(" "),r("mt-field",{attrs:{label:"职务",onKeypress:"javascript:if(event.keyCode == 32)event.returnValue = false;",placeholder:"请输入职务",attr:{maxlength:20}},model:{value:e.form.linkPosition,callback:function(t){e.$set(e.form,"linkPosition",t)},expression:"form.linkPosition"}}),e._v(" "),r("div",{staticClass:"btnl"},[r("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.created}},[e._v("创建商户门店")])],1)],1)},staticRenderFns:[]};var a=r("vSla")(s,o,!1,function(e){r("nOBN")},"data-v-34220300",null);t.default=a.exports},nOBN:function(e,t){}});
//# sourceMappingURL=15.1946dc1e9b1672eddf68.js.map