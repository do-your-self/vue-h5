webpackJsonp([7],{"81C1":function(e,t){},EFfL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"",created:function(){var e=this;this.axios.customSelect({customId:this.$route.query.id,from:"bdcrm",token:this.$store.state.token}).then(function(t){var s=t.data;s.success&&e.$set(e,"searchItems",s.data),s.success||e.$toast({message:s.msg,position:"model",duration:3e3})}).catch(function(e){console.log(e)})},computed:{filterResult:function(){var e=this;return this.searchItems.filter(function(t){return new RegExp(e.userName,"i").test(t.userName)})}},data:function(){return{form:{customId:this.$route.query.id,busLineld:"shangcheng",effectiveTime:"",from:"bdcrm",newUserId:"",oldUserId:this.$route.query.id,remark:"",token:this.$store.state.token},oldName:this.$route.query.name,userName:"",searchItems:[],popupVisible:!1}},methods:{getUser:function(e){this.form.newUserId=e.userId,this.userName=e.userName,this.popupVisible=!1},submit:function(){for(var e=this,t=[{value:this.form.newUserId,required:!0,message:"变更客户经理不能为空"},{value:this.form.remark,required:!0,message:"变更原因不能为空"}],s=!0,r=0;r<t.length;r++){if(""===t[r].value&&t[r].required){this.$toast({message:t[r].message,position:"model",duration:3e3}),s=!1;break}if((t[r].regExp&&t[r].required||""!==t[r].value&&!t[r].required)&&!t[r].regExp.test(t[r].value)){this.$toast({message:t[r].errorMsg,position:"model",duration:3e3}),s=!1;break}}s&&this.axios.changeCustom(this.form).then(function(t){var s=t.data;s.success&&e.$toast({message:"提交成功",position:"model",duration:3e3}),s.success||e.$toast({message:s.msg,position:"model",duration:3e3})}).catch(function(e){console.log(e)})}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("mt-header",{attrs:{title:"客户经理变更"}},[s("router-link",{attrs:{slot:"left",to:""},slot:"left"},[s("mt-button",{attrs:{icon:"back"},on:{click:function(t){e.$router.go(-1)}}},[e._v("返回")])],1)],1),e._v(" "),s("mt-field",{attrs:{readonly:!0,disableClear:!0,label:"原客户经理"},model:{value:e.oldName,callback:function(t){e.oldName=t},expression:"oldName"}}),e._v(" "),s("mt-cell",{attrs:{title:"变更客户经理","is-link":"",value:e.form.newUserId},nativeOn:{click:function(t){e.popupVisible=!e.popupVisible}}},[e._v(e._s(e.userName))]),e._v(" "),s("mt-popup",{staticClass:"search",attrs:{position:"right"},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[s("mt-search",{attrs:{show:!0,result:e.filterResult},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}},[e._l(e.filterResult,function(t){return s("mt-cell",{key:t.userId,attrs:{title:t.userName},nativeOn:{click:function(s){e.getUser(t)}}})}),e._v(" "),0===e.filterResult.length?s("div",{staticClass:"error"},[s("p",[e._v("没有查询结果")]),e._v(" "),s("mt-button",{attrs:{size:"small"},nativeOn:{click:function(t){e.popupVisible=!1,e.userName=""}}},[e._v("返回")])],1):e._e()],2)],1),e._v(" "),s("mt-field",{attrs:{label:"变更原因",attr:{maxlength:20},placeholder:"请输入",type:"textarea",rows:"3"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}}),e._v(" "),s("mt-field",{attrs:{label:"变更生效时间",placeholder:"请输入"},model:{value:e.form.effectiveTime,callback:function(t){e.$set(e.form,"effectiveTime",t)},expression:"form.effectiveTime"}}),e._v(" "),s("div",{staticClass:"btnl"},[s("mt-button",{attrs:{size:"large",type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var a=s("vSla")(r,i,!1,function(e){s("81C1")},"data-v-815d787a",null);t.default=a.exports}});
//# sourceMappingURL=7.69594c69914dbdfc80c3.js.map